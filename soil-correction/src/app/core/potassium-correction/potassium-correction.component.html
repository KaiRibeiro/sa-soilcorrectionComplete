<form
  class="potassiumCorrection"
  [formGroup]="potassiumCorrectionForm"
  fxLayout="column"
  fxLayoutAlign="center center"
  (ngSubmit)="corrigir()"
>
  <div fxLayout="column" fxLayoutAlign="center center">
    <h1>Correção/Recuperação de Potássio</h1>
  </div>
  <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px">
    <span>Participação atual do POTÁSSIO na CTC do solo %:</span>
    <mat-form-field appearance="outline">
      <input
      matInput
      class="participacaoAtual"
      [value]="this.participacaoAtual"
      [disabled]="!this.participacaoAtual"
      readonly
    />
    </mat-form-field>
    <span>Participação do Potássio na CTC, desejada:</span>
    <mat-form-field appearance="outline">
      <mat-label>Participação Desejada</mat-label>
      <input
        required
        matInput
        class="participacaoDesejada"
        type="number"
        formControlName="participacaoDesejada"
        placeholder="Participação Desejada"
      />
      <mat-hint>Participação ideal do Potássio na CTC: 3%</mat-hint>
    </mat-form-field>
    <span>Fonte de Potássio a utilizar:</span>
    <mat-form-field appearance="outline">
      <mat-label>Fonte de Potássio</mat-label>
      <mat-select
        required
        formControlName="fontePotassio"
        name="Fonte de Potássio"
      >
        <mat-option [value]="this.fontePotassio.Cloreto_Potassio">
          Cloreto de Potassio
        </mat-option>
        <mat-option [value]="this.fontePotassio.Sulfato_Potassio">
          Superfosfato Triplo
        </mat-option>
        <mat-option [value]="this.fontePotassio.Sulfato_Potassio_Mag">
          Sulfato de Potássio/Magnésio
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Custo R$</mat-label>
      <input
        required
        matInput
        class="custoFonte"
        type="number"
        formControlName="custoFonte"
        placeholder="Custo R$"
      />
    </mat-form-field>
  </div>
  <button class="btnSalvar" type="submit" mat-raised-button color="primary">Corrigir</button>
</form>

<div fxLayout="row" fxLayoutAlign="space-evenly center">
  <h2>
    Quantidade a aplicar:
    <mat-form-field appearance="outline">
      <input
        matInput
        class="qntAplicar"
        [value]="this.results.qntAplicar"
        [disabled]="!this.results.qntAplicar"
        readonly
      />
      <mat-hint>kg/hectare</mat-hint>
    </mat-form-field>
  </h2>
  <h2>
    Custo - R$/ha:
    <mat-form-field appearance="outline">
      <input
        matInput
        class="custoHa"
        [value]="this.results.custoHa"
        [disabled]="!this.results.custoHa"
        readonly
      />
      <mat-hint>R$/ha</mat-hint>
    </mat-form-field>
  </h2>
</div>

<div *ngIf="this.results.nutrientesAdicionais" fxLayout="column" fxLayoutAlign="center center">
  <mat-card>
    <mat-card-title>Essa correção de POTÁSSIO, fornecerá também (kg/ha):</mat-card-title>
    <mat-card-content  fxLayout="row" fxLayoutAlign="center center">
      <div *ngIf="this.results.nutrientesAdicionais[0]">
        <h3 class="nutrienteA">{{this.nutrienteB}}</h3>
        <mat-form-field appearance="outline">
          <input
          matInput
          class="qntNutrienteA"
          [value]="this.results.nutrientesAdicionais[0].correcaoAdicional"
          [disabled]="!this.results.nutrientesAdicionais[0].correcaoAdicional"
          readonly
        />
        </mat-form-field>
      </div>
      <div *ngIf="this.results.nutrientesAdicionais[1]">
        <h3 class="nutrienteB">{{this.nutrienteA}}</h3>
        <mat-form-field appearance="outline">
          <input
          class="qntNutrienteB"
          matInput
          [value]="this.results.nutrientesAdicionais[1].correcaoAdicional"
          [disabled]="!this.results.nutrientesAdicionais[1].correcaoAdicional"
          readonly
        />
        </mat-form-field>
      </div>
    </mat-card-content>
  </mat-card>
</div>
